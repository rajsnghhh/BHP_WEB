{"version":3,"sources":["./src/app/modules/role-access/role-access.component.ts","./src/app/modules/role-access/role-access.component.html","./src/app/modules/role-access/role-access-routing.module.ts","./src/app/modules/role-access/role-access.module.ts","./src/app/modules/role-access/role-access.service.ts"],"names":[],"mappings":"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","file":"modules-role-access-role-access-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpService } from 'src/app/modules/core/http/http.service';\r\nimport { RoleAccessService } from './role-access.service';\r\nimport { ValidationService } from '../shared/services/validation.service';\r\nimport { SidebarService } from '../shared/sidebar/sidebar.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-role-access',\r\n  templateUrl: './role-access.component.html',\r\n  styleUrls: ['./role-access.component.css']\r\n})\r\nexport class RoleAccessComponent implements OnInit {\r\n  roleAccessForm: FormGroup;\r\n  roleList: Array<any> = [];\r\n  roleFunctionMapView: any;\r\n  mainFunctionList: Array<any> = [];\r\n  subFunctionList: Array<any> = [];\r\n  searchFullscreen: boolean;\r\n  loader: boolean = true;\r\n  // accessList: Array<any> = [];\r\n\r\n\r\n\r\n  constructor(private httpService: HttpService, private roleService: RoleAccessService, private fb: FormBuilder,\r\n    private toaster: ToastrService, private validationService: ValidationService, private sidebarService: SidebarService,\r\n    private router: Router) { }\r\n\r\n  ngDoCheck(): void {\r\n    this.searchFullscreen = this.validationService.val;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.createForm();\r\n\r\n    this.sidebarService.subMenuList\r\n      .find(functionShortName => functionShortName.functionShortName == 'System Administration')?.subMenuDetailList\r\n      .find(item => item.subFunctionMasterId == 5 || item.subFunctionMasterId == 6 || item.subFunctionMasterId == 7 || item.subFunctionMasterId == 8)?.accessDetailList\r\n      .find(accessType => accessType.accessType == 'view')?.accessType ? this.router.navigate(['/role-access']) : this.router.navigate(['/error']);\r\n  }\r\n\r\n  createForm() {\r\n    this.roleAccessForm = this.fb.group({\r\n      device: ['', Validators.required],\r\n      mainfunction: ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  get f() {\r\n    return this.roleAccessForm.controls;\r\n  }\r\n\r\n  changeDevice(deviceId) {\r\n    console.log(deviceId);\r\n\r\n    let obj = { dataAccessDTO: this.httpService.dataAccessDTO }\r\n    this.loader = false;\r\n    this.roleService.rolefunctionmapview(obj).subscribe((res) => {\r\n      this.roleFunctionMapView = res.responseObject;\r\n      console.log(this.roleFunctionMapView, 'roleFunctionMapView');\r\n\r\n      if (deviceId == 1) {\r\n        this.mainFunctionList = this.roleFunctionMapView?.webMenu;\r\n        console.log(this.mainFunctionList, ' this.mainFunctionList-web');\r\n      } else {\r\n        this.mainFunctionList = this.roleFunctionMapView?.mobMenus;\r\n        console.log(this.mainFunctionList, ' this.mainFunctionList-mobile');\r\n      }\r\n      this.loader = true;\r\n    });\r\n\r\n    this.roleAccessForm.controls.mainfunction.setValue('');\r\n    this.subFunctionList = [];\r\n\r\n    if (this.roleAccessForm.value.device == '') {\r\n      this.roleAccessForm.controls.mainfunction.setValue('');\r\n      this.mainFunctionList = [];\r\n      this.subFunctionList = [];\r\n    }\r\n\r\n  }\r\n\r\n  changeMainFunction(mainFunctionId) {\r\n    console.log(mainFunctionId, 'mainFunctionId');\r\n    this.subFunctionList = this.mainFunctionList.find(item => item.mainMenuId == mainFunctionId)?.subMenuDtoList;\r\n    console.log(this.subFunctionList, ' this.subFunctionList');\r\n  }\r\n\r\n  changeSubFunction(subFunctionName) {\r\n    console.log(subFunctionName, 'subFunctionName');\r\n\r\n    var coll = document.getElementsByClassName(\"collapsible\");\r\n    var i;\r\n\r\n    for (i = 0; i < coll.length; i++) {\r\n      coll[i].addEventListener(\"click\", function () {\r\n\r\n        for (var j = 0; j < coll.length; j++) {\r\n          var con = coll[j].nextElementSibling as HTMLElement\r\n          coll[j].classList.remove(\"active\");\r\n          // coll[j].nextElementSibling.style.maxHeight = null;\r\n          con.style.maxHeight = null;\r\n        }\r\n\r\n        this.classList.toggle(\"active\");\r\n        var content = this.nextElementSibling;\r\n        if (content.style.maxHeight) {\r\n          content.style.maxHeight = null;\r\n        } else {\r\n          content.style.maxHeight = content.scrollHeight + \"px\";\r\n        }\r\n      });\r\n    }\r\n\r\n    // this.accessList=[]\r\n    this.roleList = this.subFunctionList.find((role) => role.subMenuName == subFunctionName)?.roleAccessDtoList;\r\n    console.log(this.roleList, 'roleList');\r\n//     this.roleList.forEach(x => {\r\n//       this.accessList.push(x.accessDtoList);\r\n//     })\r\n// console.log(  this.accessList);\r\n\r\n\r\n  }\r\n\r\n  assignAccess(accessDtoList, i, e) {\r\n    console.log(accessDtoList, accessDtoList.subMenuId, 'accessDtoList.subMenuId');\r\n\r\n    let checked = e.target.checked;\r\n    console.log(checked);\r\n    if (checked == true) {\r\n      accessDtoList.roleActiveFlag = 'Y';\r\n      console.log(accessDtoList, this.roleFunctionMapView);\r\n    } else {\r\n      accessDtoList.roleActiveFlag = 'N';\r\n      console.log(accessDtoList, this.roleFunctionMapView);\r\n    }\r\n\r\n  }\r\n\r\n  saveRoleMap() {\r\n    let roleAccessSaveObj = {\r\n      dataAccessDTO: this.httpService.dataAccessDTO,\r\n      roleFunctionMapDTOList: this.roleFunctionMapView\r\n    }\r\n    this.loader = false;\r\n    console.log(roleAccessSaveObj);\r\n\r\n    this.roleService.rolesubfunctionmapsave(roleAccessSaveObj).subscribe((res) => {\r\n      console.log(res.responseObject, 'roleFunctionMapsave');\r\n      if (res.status == true) {\r\n        this.loader = true;\r\n        this.showSuccess(res.message);\r\n      }\r\n      else {\r\n        this.showError(res.message);\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  showSuccess(message) {\r\n    this.toaster.success(message, 'Role Menu Map', {\r\n      timeOut: 3000,\r\n    });\r\n  }\r\n\r\n  showError(message) {\r\n    this.toaster.error(message, 'Role Menu Map', {\r\n      timeOut: 3000,\r\n    });\r\n  }\r\n}","<app-loader [hidden]=\"loader\"></app-loader>\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"white_box QA_section mb_30\">\r\n\r\n                <div id=\"header-fixed\" style=\"display: flex;\">\r\n                    <h2 class=\"page-title\">Role Menu Map</h2>\r\n                </div>\r\n\r\n                <form class=\"form-signin\" [formGroup]=\"roleAccessForm\">\r\n\r\n                    <div class=\"row\">\r\n\r\n                        <div class=\"form-group col-md\" style=\"float:right;\">&nbsp;\r\n                            <label for=\"device\">Device Type :&nbsp;<span class=\"text-danger\">*&nbsp;</span></label>\r\n                            <select class=\"form-select\" (change)=\"changeDevice($event.target.value)\"\r\n                                formControlName=\"device\" id=\"device\" [ngClass]=\"{'is-invalid': f.device.invalid && f.device.touched,'is-valid':\r\n                            f.device.valid && (f.device.dirty || f.device.touched) }\">\r\n                                <option value=\"\">-- Select Device --</option>\r\n                                <option value=\"1\">Web</option>\r\n                                <option value=\"2\">Mobile</option>\r\n                            </select>\r\n                            <div *ngIf=\"f.device.errors\" class=\"invalid-feedback\">\r\n                                <div *ngIf=\"f.device.errors.required\">Device selection is required</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"form-group col-md\">\r\n                            <label for=\"mainfunction\">Main Function :&nbsp;<span\r\n                                    class=\"text-danger\">*&nbsp;</span></label>\r\n                            <select class=\"form-select\" (change)=\"changeMainFunction($event.target.value)\"\r\n                                formControlName=\"mainfunction\" id=\"mainfunction\"\r\n                                [ngClass]=\"{ 'is-invalid': f.mainfunction.invalid &&\r\n                                 f.mainfunction.touched, 'is-valid': f.mainfunction.valid && (f.mainfunction.dirty || f.mainfunction.touched)}\">\r\n                                <option value=\"\">-- Select Main Function --</option>\r\n                                <option *ngFor=\"let mainfunction of mainFunctionList\"\r\n                                    value=\"{{mainfunction.mainMenuId}}\"> {{mainfunction.mainMenuName}} </option>\r\n                            </select>\r\n                            <div *ngIf=\"f.mainfunction.errors\" class=\"invalid-feedback\">\r\n                                <div *ngIf=\"f.mainfunction.errors.required\">Main Function selection is required</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"row\" *ngFor=\"let item of subFunctionList; index as i\">\r\n                        <button class=\"collapsible\" (click)=\"changeSubFunction($event.target.value)\"\r\n                            value=\"{{item.subMenuName}}\"\r\n                            style=\"padding:10px; width: -webkit-fill-available;\">{{item.subMenuName}}</button>\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n                        <div class=\"content\" style=\"background: white; margin-top: -14px;\">\r\n\r\n                            <div class=\"QA_table\" [ngClass]=\"searchFullscreen ? 'QA_tableFull' : 'QA_tableHalf'\">\r\n                                <div id=\"DataTables_Table_0_wrapper\" class=\"dataTables_wrapper no-footer\">\r\n                                    <table\r\n                                        class=\"table lms_table_active dataTable no-footer dtr-inline collapsed table table-striped\"\r\n                                        role=\"grid\" aria-describedby=\"DataTables_Table_0_info\"\r\n                                        style=\"table-layout: fixed; text-align:center; padding: 0px;\">\r\n                                        <thead id=\"header_fixed\">\r\n                                            <tr>\r\n                                                <th style=\"padding: 11px; width: 10%;\">Role Function</th>\r\n                                                <th style=\"padding: 11px;\">Role Access</th>\r\n                                                <th style=\"padding: 11px;\"></th>\r\n                                                <th style=\"padding: 11px;\"></th>\r\n                                                <th style=\"padding: 11px;\"></th>\r\n                                            </tr>\r\n                                        </thead>\r\n\r\n                                        <tbody>\r\n\r\n                                            <tr *ngFor=\"let items of roleList ; index as i\">\r\n                                                <td>{{items.roleShortname}}</td>\r\n\r\n                                                <td *ngFor=\"let itemss of items.accessDtoList ; index as i\">\r\n                                                    {{itemss.subMenuAccessType}}&nbsp;\r\n                                                    <input class=\"form-check-input\" type=\"checkbox\" checked value=\"\"\r\n                                                        id=\"flexCheckDefault\" (change)=\"assignAccess(itemss, i, $event)\"\r\n                                                        *ngIf=\"itemss.roleActiveFlag == 'Y'\" style=\"margin-top: 7px\">\r\n\r\n                                                    <input class=\"form-check-input\" type=\"checkbox\" value=\"\"\r\n                                                        id=\"flexCheckDefault\" (change)=\"assignAccess(itemss, i, $event)\"\r\n                                                        *ngIf=\"itemss.roleActiveFlag == 'N'\" style=\"margin-top: 7px\">\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </form><br>\r\n\r\n                <div class=\"row\">\r\n                    <div class=\"form-group col-md\" style=\"display: flex; justify-content:flex-start\">\r\n                        <button class=\"btn btn-primary btn-sm\" (click)=\"saveRoleMap()\"\r\n                            [disabled]=\"!roleAccessForm.value.mainfunction\">Save\r\n                            Role Map</button>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { RoleAccessComponent } from './role-access.component';\r\n\r\nconst routes: Routes = [{ path: '', component: RoleAccessComponent },];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class RoleAccessRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RoleAccessRoutingModule } from './role-access-routing.module';\r\nimport { RoleAccessComponent } from './role-access.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { LoaderModule } from '../shared/loader/loader.module';\r\n\r\n@NgModule({\r\n  declarations: [RoleAccessComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RoleAccessRoutingModule,\r\n    ReactiveFormsModule, LoaderModule\r\n  ]\r\n})\r\nexport class RoleAccessModule { }\r\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RoleAccessService {\n  baseURL = environment.apiUrl;\n\n  constructor(private http: HttpClient) { }\n\n  rolefunctionmapview(obj): any {\n    return this.http.post(`${this.baseURL}rolemaster/rolefunctionmap/view`, obj);\n  }\n\n  rolesubfunctionmapsave(obj): any {\n    return this.http.post(`${this.baseURL}rolesubfunctionmap/save`, obj);\n  }\n\n}\n"],"sourceRoot":"webpack:///"}