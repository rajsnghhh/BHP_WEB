{"version":3,"file":"src_app_modules_role-access_role-access_module_ts.js","mappings":"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","sources":["./src/app/modules/role-access/role-access-routing.module.ts","./src/app/modules/role-access/role-access.component.ts","./src/app/modules/role-access/role-access.component.html","./src/app/modules/role-access/role-access.module.ts","./src/app/modules/role-access/role-access.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { RoleAccessComponent } from './role-access.component';\r\n\r\nconst routes: Routes = [{ path: '', component: RoleAccessComponent },];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class RoleAccessRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { UntypedFormBuilder, UntypedFormGroup, Validators } from '@angular/forms';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HttpService } from 'src/app/modules/core/http/http.service';\r\nimport { RoleAccessService } from './role-access.service';\r\nimport { ValidationService } from '../shared/services/validation.service';\r\nimport { SidebarService } from '../shared/sidebar/sidebar.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-role-access',\r\n  templateUrl: './role-access.component.html',\r\n  styleUrls: ['./role-access.component.css']\r\n})\r\nexport class RoleAccessComponent implements OnInit {\r\n  roleAccessForm: UntypedFormGroup;\r\n  roleList: Array<any> = [];\r\n  roleFunctionMapView: any;\r\n  mainFunctionList: Array<any> = [];\r\n  subFunctionList: Array<any> = [];\r\n  searchFullscreen: boolean;\r\n  loader: boolean = true;\r\n  // accessList: Array<any> = [];\r\n\r\n\r\n\r\n  constructor(private httpService: HttpService, private roleService: RoleAccessService, private fb: UntypedFormBuilder,\r\n    private toaster: ToastrService, private validationService: ValidationService, private sidebarService: SidebarService,\r\n    private router: Router) { }\r\n\r\n  ngDoCheck(): void {\r\n    this.searchFullscreen = this.validationService.val;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.createForm();\r\n\r\n    this.sidebarService.subMenuList\r\n      .find(functionShortName => functionShortName.functionShortName == 'System Administration')?.subMenuDetailList\r\n      .find(item => item.subFunctionMasterId == 5 || item.subFunctionMasterId == 6 || item.subFunctionMasterId == 7 || item.subFunctionMasterId == 8)?.accessDetailList\r\n      .find(accessType => accessType.accessType == 'view')?.accessType ? this.router.navigate(['/role-access']) : this.router.navigate(['/error']);\r\n  }\r\n\r\n  createForm() {\r\n    this.roleAccessForm = this.fb.group({\r\n      device: ['', Validators.required],\r\n      mainfunction: ['', Validators.required]\r\n    });\r\n  }\r\n\r\n  get f() {\r\n    return this.roleAccessForm.controls;\r\n  }\r\n\r\n  changeDevice(deviceId) {\r\n    console.log(deviceId);\r\n\r\n    let obj = { dataAccessDTO: this.httpService.dataAccessDTO }\r\n    this.loader = false;\r\n    this.roleService.rolefunctionmapview(obj).subscribe((res) => {\r\n      this.roleFunctionMapView = res.responseObject;\r\n      console.log(this.roleFunctionMapView, 'roleFunctionMapView');\r\n\r\n      if (deviceId == 1) {\r\n        this.mainFunctionList = this.roleFunctionMapView?.webMenu;\r\n        console.log(this.mainFunctionList, ' this.mainFunctionList-web');\r\n      } else {\r\n        this.mainFunctionList = this.roleFunctionMapView?.mobMenus;\r\n        console.log(this.mainFunctionList, ' this.mainFunctionList-mobile');\r\n      }\r\n      this.loader = true;\r\n    });\r\n\r\n    this.roleAccessForm.controls.mainfunction.setValue('');\r\n    this.subFunctionList = [];\r\n\r\n    if (this.roleAccessForm.value.device == '') {\r\n      this.roleAccessForm.controls.mainfunction.setValue('');\r\n      this.mainFunctionList = [];\r\n      this.subFunctionList = [];\r\n    }\r\n\r\n  }\r\n\r\n  changeMainFunction(mainFunctionId) {\r\n    console.log(mainFunctionId, 'mainFunctionId');\r\n    this.subFunctionList = this.mainFunctionList.find(item => item.mainMenuId == mainFunctionId)?.subMenuDtoList;\r\n    console.log(this.subFunctionList, ' this.subFunctionList');\r\n  }\r\n\r\n  changeSubFunction(subFunctionName) {\r\n    console.log(subFunctionName, 'subFunctionName');\r\n\r\n    var coll = document.getElementsByClassName(\"collapsible\");\r\n    var i;\r\n\r\n    for (i = 0; i < coll.length; i++) {\r\n      coll[i].addEventListener(\"click\", function () {\r\n\r\n        for (var j = 0; j < coll.length; j++) {\r\n          var con = coll[j].nextElementSibling as HTMLElement\r\n          coll[j].classList.remove(\"active\");\r\n          // coll[j].nextElementSibling.style.maxHeight = null;\r\n          con.style.maxHeight = null;\r\n        }\r\n\r\n        this.classList.toggle(\"active\");\r\n        var content = this.nextElementSibling;\r\n        if (content.style.maxHeight) {\r\n          content.style.maxHeight = null;\r\n        } else {\r\n          content.style.maxHeight = content.scrollHeight + \"px\";\r\n        }\r\n      });\r\n    }\r\n\r\n    // this.accessList=[]\r\n    this.roleList = this.subFunctionList.find((role) => role.subMenuName == subFunctionName)?.roleAccessDtoList;\r\n    console.log(this.roleList, 'roleList');\r\n//     this.roleList.forEach(x => {\r\n//       this.accessList.push(x.accessDtoList);\r\n//     })\r\n// console.log(  this.accessList);\r\n\r\n\r\n  }\r\n\r\n  assignAccess(accessDtoList, i, e) {\r\n    console.log(accessDtoList, accessDtoList.subMenuId, 'accessDtoList.subMenuId');\r\n\r\n    let checked = e.target.checked;\r\n    console.log(checked);\r\n    if (checked == true) {\r\n      accessDtoList.roleActiveFlag = 'Y';\r\n      console.log(accessDtoList, this.roleFunctionMapView);\r\n    } else {\r\n      accessDtoList.roleActiveFlag = 'N';\r\n      console.log(accessDtoList, this.roleFunctionMapView);\r\n    }\r\n\r\n  }\r\n\r\n  saveRoleMap() {\r\n    let roleAccessSaveObj = {\r\n      dataAccessDTO: this.httpService.dataAccessDTO,\r\n      roleFunctionMapDTOList: this.roleFunctionMapView\r\n    }\r\n    this.loader = false;\r\n    console.log(roleAccessSaveObj);\r\n\r\n    this.roleService.rolesubfunctionmapsave(roleAccessSaveObj).subscribe((res) => {\r\n      console.log(res.responseObject, 'roleFunctionMapsave');\r\n      if (res.status == true) {\r\n        this.loader = true;\r\n        this.showSuccess(res.message);\r\n      }\r\n      else {\r\n        this.showError(res.message);\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  showSuccess(message) {\r\n    this.toaster.success(message, 'Role Menu Map', {\r\n      timeOut: 3000,\r\n    });\r\n  }\r\n\r\n  showError(message) {\r\n    this.toaster.error(message, 'Role Menu Map', {\r\n      timeOut: 3000,\r\n    });\r\n  }\r\n}","<app-loader [hidden]=\"loader\"></app-loader>\r\n<div class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"white_box QA_section mb_30\">\r\n\r\n                <div id=\"header-fixed\" style=\"display: flex;\">\r\n                    <h2 class=\"page-title\">Role Menu Map</h2>\r\n                </div>\r\n\r\n                <form class=\"form-signin\" [formGroup]=\"roleAccessForm\">\r\n\r\n                    <div class=\"row\">\r\n\r\n                        <div class=\"form-group col-md\" style=\"float:right;\">&nbsp;\r\n                            <label for=\"device\">Device Type :&nbsp;<span class=\"text-danger\">*&nbsp;</span></label>\r\n                            <select class=\"form-select\" (change)=\"changeDevice($event.target.value)\"\r\n                                formControlName=\"device\" id=\"device\" [ngClass]=\"{'is-invalid': f.device.invalid && f.device.touched,'is-valid':\r\n                            f.device.valid && (f.device.dirty || f.device.touched) }\">\r\n                                <option value=\"\">-- Select Device --</option>\r\n                                <option value=\"1\">Web</option>\r\n                                <option value=\"2\">Mobile</option>\r\n                            </select>\r\n                            <div *ngIf=\"f.device.errors\" class=\"invalid-feedback\">\r\n                                <div *ngIf=\"f.device.errors.required\">Device selection is required</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"form-group col-md\">\r\n                            <label for=\"mainfunction\">Main Function :&nbsp;<span\r\n                                    class=\"text-danger\">*&nbsp;</span></label>\r\n                            <select class=\"form-select\" (change)=\"changeMainFunction($event.target.value)\"\r\n                                formControlName=\"mainfunction\" id=\"mainfunction\"\r\n                                [ngClass]=\"{ 'is-invalid': f.mainfunction.invalid &&\r\n                                 f.mainfunction.touched, 'is-valid': f.mainfunction.valid && (f.mainfunction.dirty || f.mainfunction.touched)}\">\r\n                                <option value=\"\">-- Select Main Function --</option>\r\n                                <option *ngFor=\"let mainfunction of mainFunctionList\"\r\n                                    value=\"{{mainfunction.mainMenuId}}\"> {{mainfunction.mainMenuName}} </option>\r\n                            </select>\r\n                            <div *ngIf=\"f.mainfunction.errors\" class=\"invalid-feedback\">\r\n                                <div *ngIf=\"f.mainfunction.errors.required\">Main Function selection is required</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"row\" *ngFor=\"let item of subFunctionList; index as i\">\r\n                        <button class=\"collapsible\" (click)=\"changeSubFunction($event.target.value)\"\r\n                            value=\"{{item.subMenuName}}\"\r\n                            style=\"padding:10px; width: -webkit-fill-available;\">{{item.subMenuName}}</button>\r\n                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n                        <div class=\"content\" style=\"background: white; margin-top: -14px;\">\r\n\r\n                            <div class=\"QA_table\" [ngClass]=\"searchFullscreen ? 'QA_tableFull' : 'QA_tableHalf'\">\r\n                                <div id=\"DataTables_Table_0_wrapper\" class=\"dataTables_wrapper no-footer\">\r\n                                    <table\r\n                                        class=\"table lms_table_active dataTable no-footer dtr-inline collapsed table table-striped\"\r\n                                        role=\"grid\" aria-describedby=\"DataTables_Table_0_info\"\r\n                                        style=\"table-layout: fixed; text-align:center; padding: 0px;\">\r\n                                        <thead id=\"header_fixed\">\r\n                                            <tr>\r\n                                                <th style=\"padding: 11px; width: 10%;\">Role Function</th>\r\n                                                <th style=\"padding: 11px;\">Role Access</th>\r\n                                                <th style=\"padding: 11px;\"></th>\r\n                                                <th style=\"padding: 11px;\"></th>\r\n                                                <th style=\"padding: 11px;\"></th>\r\n                                            </tr>\r\n                                        </thead>\r\n\r\n                                        <tbody>\r\n\r\n                                            <tr *ngFor=\"let items of roleList ; index as i\">\r\n                                                <td>{{items.roleShortname}}</td>\r\n\r\n                                                <td *ngFor=\"let itemss of items.accessDtoList ; index as i\">\r\n                                                    {{itemss.subMenuAccessType}}&nbsp;\r\n                                                    <input class=\"form-check-input\" type=\"checkbox\" checked value=\"\"\r\n                                                        id=\"flexCheckDefault\" (change)=\"assignAccess(itemss, i, $event)\"\r\n                                                        *ngIf=\"itemss.roleActiveFlag == 'Y'\" style=\"margin-top: 7px\">\r\n\r\n                                                    <input class=\"form-check-input\" type=\"checkbox\" value=\"\"\r\n                                                        id=\"flexCheckDefault\" (change)=\"assignAccess(itemss, i, $event)\"\r\n                                                        *ngIf=\"itemss.roleActiveFlag == 'N'\" style=\"margin-top: 7px\">\r\n                                                </td>\r\n                                            </tr>\r\n\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </form><br>\r\n\r\n                <div class=\"row\">\r\n                    <div class=\"form-group col-md\" style=\"display: flex; justify-content:flex-start\">\r\n                        <button class=\"btn btn-primary btn-sm\" (click)=\"saveRoleMap()\"\r\n                            [disabled]=\"!roleAccessForm.value.mainfunction\">Save\r\n                            Role Map</button>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    </div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RoleAccessRoutingModule } from './role-access-routing.module';\r\nimport { RoleAccessComponent } from './role-access.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { LoaderModule } from '../shared/loader/loader.module';\r\n\r\n@NgModule({\r\n  declarations: [RoleAccessComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RoleAccessRoutingModule,\r\n    ReactiveFormsModule, LoaderModule\r\n  ]\r\n})\r\nexport class RoleAccessModule { }\r\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RoleAccessService {\n  baseURL = environment.apiUrl;\n\n  constructor(private http: HttpClient) { }\n\n  rolefunctionmapview(obj): any {\n    return this.http.post(`${this.baseURL}rolemaster/rolefunctionmap/view`, obj);\n  }\n\n  rolesubfunctionmapsave(obj): any {\n    return this.http.post(`${this.baseURL}rolesubfunctionmap/save`, obj);\n  }\n\n}\n"],"names":["RouterModule","RoleAccessComponent","routes","path","component","RoleAccessRoutingModule","forChild","imports","exports","Validators","i0","constructor","httpService","roleService","fb","toaster","validationService","sidebarService","router","ngDoCheck","searchFullscreen","val","ngOnInit","createForm","subMenuList","find","functionShortName","subMenuDetailList","item","subFunctionMasterId","accessDetailList","accessType","navigate","roleAccessForm","group","device","required","mainfunction","f","controls","changeDevice","deviceId","console","log","obj","dataAccessDTO","loader","rolefunctionmapview","subscribe","res","roleFunctionMapView","responseObject","mainFunctionList","webMenu","mobMenus","setValue","subFunctionList","value","changeMainFunction","mainFunctionId","mainMenuId","subMenuDtoList","changeSubFunction","subFunctionName","coll","document","getElementsByClassName","i","length","addEventListener","j","con","nextElementSibling","classList","remove","style","maxHeight","toggle","content","scrollHeight","roleList","role","subMenuName","roleAccessDtoList","assignAccess","accessDtoList","e","subMenuId","checked","target","roleActiveFlag","saveRoleMap","roleAccessSaveObj","roleFunctionMapDTOList","rolesubfunctionmapsave","status","showSuccess","message","showError","success","timeOut","error","selectors","decls","vars","consts","template","ctx","CommonModule","ReactiveFormsModule","LoaderModule","RoleAccessModule","declarations","environment","RoleAccessService","http","apiUrl","post","baseURL","factory","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}